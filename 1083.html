<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; เรื่องเริ่มต้นเมื่อวันหนึ่งคุณได้ข่าวมา ว่า มีอัญมณีอันล้ำค่ายิ่งกว่าที่เคยมีใครพบเจอถูกซ่อนอยู่... ได้เวลาปลุกความเป็นนักล่าสมบัติของคุณแล้ว! แต่กลับมีอุปสรรคสำคัญมาขวางคุณซะได้... เพราะการสำรวจทางโบราณคดีใดๆนั้นต้องใช้งบประมาณอยู่มาก คุณจึงตัดสินใจที่จะเอาเงินที่คุณมีไปลงทุนในตลาดหุ้น<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; เนื่องจากราคาหุ้นของบริษัทต่างๆ ขึ้นอยู่กับข่าวสารที่จะมาชี้ชะตาอนาคตของบริษัท และบางครั้งคุณก็ไม่ได้รู้ข่าวพวกนี้พร้อมกับคนอื่น ทำให้คุณอาจเสียเปรียบคนอื่นได้ แต่ด้วยสมองอันปราดเปรื่องของคุณ คุณได้สร้างเครื่องทำนายราคาหุ้นล่วงหน้ามา <br />
<br />
สมมติว่า เครื่องให้ข้อมูลราคาหุ้นในวันต่างๆ เป็นดังนี้ <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; วันที่ 1 ราคา 10<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; วันที่ 2 ราคา 20<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; วันที่ 3 ราคา 15<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; วันที่ 4 ราคา 12<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; วันที่ 5 ราคา 21<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; วันที่ 6 ราคา 30</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ในช่วงวันที่ 1-6 คุณจะสามารถทำกำไรได้ 28 บาท โดยซื้อวันที่ 1 ขายวันที่ 2 และ ซื้อวันที่ 4 ขายวันที่ 6 (เริ่มต้นคุณมีเงินไม่จำกัด)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; คุณมีข้อมูลราคาหุ้นอยู่ n วัน และคุณต้องการตอบคำถาม q คำถาม โดยแต่ละคำถามจะถาม<br />
ว่า ในช่วงการลงทุนตั้งแต่วันที่ a<sub>j</sub> ถึงวันที่ b<sub>j</sub> ที่กำหนดให้ คุณจะสามารถทำการซื้อและขายหุ้นในช่วง<br />
เฉพาะในช่วงวันดังกล่าว (หรือก็คือช่วง [a<sub>j</sub>, b<sub>j</sub>]) ให้ได้กำไรสูงสุดเท่าไร<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; เนื่องจากคุณไม่ต้องการให้เครื่องทำนายราคาหุ้นของคุณเป็นที่จับตามองของนักลงทุนคนอื่น ๆ<br />
คุณจึงถือหุ้นในมือ ณ ขณะใด ๆ ไม่เกินหนึ่งหน่วยเท่านั้น (การถือหุ้นต้องถือเป็นจำนวนเต็มหน่วย<br />
เท่านั้น)<br />
<br />
เนื่องจากคุณไม่ต้องการให้เครื่องทำนายราคาหุ้นของคุณเป็นที่จับตามองของนักลงทุนคนอื่น ๆ<br />
คุณจึงถือหุ้นในมือ ณ ขณะใด ๆ ไม่เกินหนึ่งหน่วยเท่านั้น (การถือหุ้นต้องถือเป็นจำนวนเต็มหน่วย<br />
เท่านั้น)<br />
<br />
<strong><u>งานของคุณ</u></strong><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; จงเขียนโปรแกรมรับราคาหุ้นที่เครื่องของคุณทำนายออกมา และช่วงการลงทุนที่คุณต้องการทราบกำไร จากนั้นให้แสดงผลกำไรสูงสุดที่คุณสามารถทำได้สำหรับแต่ละช่วงที่กำหนด<br />
<br />
<u><strong>ข้อมูลนำเข้า<br />
</strong></u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; บรรทัดที่ 1 มีจำนวนเต็มบวก n (1&lt;=n&lt;=1,000,000) แทนจำนวนวันที่คุณมีข้อมูลราคาหุ้น<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; บรรทัดที่ 2 มีจำนวนเต็มบวกอยู่ n ตัว ตัวที่ i แทนราคาของหุ้นในวันที่ i โดยราคาหุ้นในแต่ละวันจะมีค่าไม่เกิน 7,000<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; บรรทัดที่ 3 มีจำนวนเต็มบวก q (1&lt;=q&lt;=1,000,000) แทนจำนวนช่วงการลงทุนที่คุณต้องการทราบกำไร<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; บรรทัดที่ 4&hellip;q+3 มีจำนวนเต็มบวก 2 ตัว a b (1&lt;=a, b&lt;=n) แทนวันเริ่มต้นและวันสิ้นสุดของแต่ละช่วงการลงทุน<br />
<br />
<u><strong>ข้อมูลส่งออก<br />
</strong></u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; มี q บรรทัด บรรทัดที่ i มีจำนวนเต็มบวกหนึ่งตัว แทนกำไรที่มากที่สุดที่คุณสามารถทำได้ในช่วงที่ i<br />
<br />
<strong><u>โจทย์โดย</u></strong>: วรภัทร บุญญฤทธิพงษ์<br />
<u><strong>ที่มา</strong></u>: <a href="http://www.thailandoi.org/toi.c/03-2009">TOI.CPP:03-2009</a></p>
		<table>
			<tr>
				<th>ข้อมูลนำเข้า</th>
				<th>ข้อมูลส่งออก</th>
			</tr>	
		
			<tr>
				<td>6
<br />10 20 15 12 21 30
<br />3
<br />1 6
<br />2 4
<br />3 5
<br /></td>
				<td>28
<br />0
<br />9
<br /></td>
			</tr></table>
