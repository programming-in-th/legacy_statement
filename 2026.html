&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ในที่สุด คุณก็ได้พบกับอัญมณีแล้ว แต่ทว่า คุณลืมคิดว่า คุณจะออกจากโบราณสถานนี้อย่างไร... ยิ่งไปกว่านั้น เทพเจ้าที่รักษาสถานที่นี้รู้แล้วว่าคุณมาเยือน และกำลังจะถล่มที่นี่ลงช้าๆ...&nbsp;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;โชคดีที่มีเครื่องขนย้ายมวลสารพิเศษ ที่จะย้ายคุณออกไปจากโบราณสถานได้ <br />
โชคไม่ดีที่เครื่องขนย้ายมวลสารพิเศษนี้ จะทำงานก็ต่อเมื่อคุณแก้ปัญหา &ldquo;ปริศนา 15&rdquo; ได้ เท่านั้น<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ปริศนา 15 (Fifteen Puzzle) เป็นเกมปริศนาที่มีหมากรูปสี่เหลี่ยมวางอยู่ในตารางกริดขนาด 4&times;4 หน่วย กำกับหมายเลขตั้งแต่ 1 ถึง 15&nbsp; ผู้เล่นสามารถเลื่อนหมากแต่ละตัวไปแทนที่ช่องว่างได้&nbsp; จนกว่ารูปแบบของตัวเลขในกริดจะอยู่ในสถานะสิ้นสุดซึ่งมีตำแหน่งดังนี้<br />
<br />
<table cellspacing="1" cellpadding="1" border="1" style="width: 201px; height: 84px;">
    <tbody>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
        </tr>
        <tr>
            <td>5</td>
            <td>6</td>
            <td>7</td>
            <td>8</td>
        </tr>
        <tr>
            <td>9</td>
            <td>10</td>
            <td>11</td>
            <td>12</td>
        </tr>
        <tr>
            <td>13</td>
            <td>14</td>
            <td>15</td>
            <td style="text-align: center;">&nbsp;</td>
        </tr>
    </tbody>
</table>
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;กำหนดสถานะเริ่มต้นของเกมปริศนา 15 มาให้ หน้าที่ของคุณคือตอบลำดับการเลื่อนหมากแก้ปริศนานี้ โดยไม่จำเป็นต้องใช้จำนวนครั้งในการเลื่อนน้อยที่สุด (โปรดดูเกณฑ์การให้คะแนนประกอบ)<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ลำดับของการเลื่อนหมาก จะถูกกำหนดด้วยสตริงของอักษรสี่ประเภท (N, E, W, S) ซึ่งหมายถึงตำแหน่งของหมากซึ่งจะถูกเลื่อนมาแทนช่องว่าง ณ ขณะนั้น<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;สมมติสถานะเริ่มต้นของเกมปริศนา 15 ที่กำหนดให้มีลักษณะดังนี้<br />
<br />
<table width="200" cellspacing="1" cellpadding="1" border="1">
    <tbody>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>8</td>
            <td>3</td>
        </tr>
        <tr>
            <td>5</td>
            <td>7</td>
            <td>10</td>
            <td>4</td>
        </tr>
        <tr>
            <td>9</td>
            <td>6</td>
            <td>11</td>
            <td>&nbsp;</td>
        </tr>
        <tr>
            <td>13</td>
            <td>14</td>
            <td>15</td>
            <td>12</td>
        </tr>
    </tbody>
</table>
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;หนึ่งในลำดับการแก้ปริศนานี้ ที่สามารถนำไปสู่สถานะสิ้นสุดของเกมได้ อาจแทนด้วยสตริง SWNNNESWWSESE&nbsp;&nbsp; ยังมีรูปแบบลำดับการแก้ปริศนานี้อีกมากมายที่ให้ผลลัพธ์แบบเดียวกัน<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;คุณต้องรีบแก้ปริศนานี้โดยด่วน ก่อนที่โบราณสถานจะพังทลาย...<br />
<u><strong><br />
งานของคุณ<br />
</strong></u><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;จงเขียนโปรแกรมรับสถานะเริ่มต้นของเกมจากข้อมูลนำเข้า&nbsp; คำนวณลำดับการเลื่อนหมากตัวเลขแต่ละตัวซึ่งทำให้เกมอยู่ในสถานะสิ้นสุด&nbsp; แล้วแสดงลำดับการเลื่อนหมากดังกล่าวเป็นสตริงออกทางข้อมูลส่งออก&nbsp; รับประกันว่าปริศนาที่กำหนดมาให้ สามารถแก้หาคำตอบได้เสมอ<br />
<u><strong><br />
การให้คะแนน<br />
</strong></u><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; เนื่องจากในการแข่งขันจริง มีการให้คะแนนแบบ Partial Score กล่าวคือผู้เข้าแข่งขันอาจได้คะแนนจากผลลัพธ์ที่ถูกต้องน้อยกว่า 100% จากชุดข้อมูลทดสอบหนึ่ง ๆ ได้&nbsp;&nbsp; <em>โดยผู้เข้าแข่งขันจะได้<strong>คะแนนเต็ม</strong>เมื่อจำนวนครั้งในการเลื่อนหมากน้อยกว่า 5,000 ครั้งเท่านั้น</em> ซึ่งในระบบตรวจของ programming.in.th จะแสดงผลการตรวจเป็น '<span style="font-family: Courier New;">P</span>'&nbsp;&nbsp; ส่วนในกรณีที่จำนวนครั้งในการเลื่อนหมากมากกว่า 5,000 ระบบตรวจจะแสดงผลตรวจเป็น '<span style="font-family: Courier New;">S</span>' ซึ่งหมายความว่าได้คะแนนบางส่วนสำหรับชุดข้อมูลทดสอบนั้น ๆ<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <u><em>หมายเหตุ</em></u> ในกรณีที่โปรแกรมให้ผลัพธ์ที่ไม่ถูกต้อง เช่น ไม่สามารถแก้ปัญหาโจทย์ได้ หรือมีตัวอักษรที่ไม่ใช่ N, E, W, S หรือมีการเลื่อนออกนอกกระดาน จะได้ 0 คะแนน (ซึ่งแสดงผลการตรวจเป็น '<span style="font-family: Courier New;">-</span>') ทันที<br />
<u><strong><br />
ข้อมูลนำเข้า</strong></u><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;มีจำนวนเต็มทั้งสิ้น 4 บรรทัด บรรทัดละ 4 ตัว แทนตัวเลขในสถานะเริ่มต้นของเกมทั้งหมด<br />
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;จำนวนเต็มบวก 1 ถึง 15 แทนหมายเลขกำกับหมากในตำแหน่งนั้น ๆ<br />
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;จำนวน 0 จะหมายถึงช่องว่างของตาราง<br />
<strong><u><br />
ข้อมูลส่งออก</u><br />
</strong><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;มีบรรทัดเดียว แสดงชุดตัวอักษรซึ่งประกอบด้วยอักขระสี่ประเภท (N, E, W, S) ซึ่งบอกลำดับการเลื่อนหมากตัวเลขทั้งหมดเพื่อแก้ปริศนา 15 ที่กำหนดให้<br />
<br />
<u><strong>โจทย์โดย</strong></u>: อาภาพงศ์ จันทร์ทอง<br />
<strong><u>ที่มา</u></strong>: <a href="http://www.thailandoi.org/toi.c/03-2009">TOI.CPP:03-2009</a><br />
		<table>
			<tr>
				<th>ข้อมูลนำเข้า</th>
				<th>ข้อมูลส่งออก</th>
			</tr>	
		
			<tr>
				<td>1 2 8 3<br />5 7 10 4<br />9 6 11 0<br />13 14 15 12</td>
				<td>SWNNNESWWSESE</td>
			</tr></table>