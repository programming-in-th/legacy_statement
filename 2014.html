<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 11">
<meta name="Originator" content="Microsoft Word 11">
<link rel="File-List" href="file:///C:\DOCUME~1\DEFEND~1\LOCALS~1\Temp\msohtml1\01\clip_filelist.xml" /><o:smarttagtype namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="City"></o:smarttagtype><o:smarttagtype namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="place"></o:smarttagtype><!--[if gte mso 9]><xml>
<w:WordDocument>
<w:View>Normal</w:View>
<w:Zoom>0</w:Zoom>
<w:PunctuationKerning />
<w:ValidateAgainstSchemas />
<w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
<w:IgnoreMixedContent>false</w:IgnoreMixedContent>
<w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
<w:Compatibility>
<w:BreakWrappedTables />
<w:SnapToGridInCell />
<w:ApplyBreakingRules />
<w:WrapTextWithPunct />
<w:UseAsianBreakRules />
<w:DontGrowAutofit />
</w:Compatibility>
<w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
</w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
<w:LatentStyles DefLockedState="false" LatentStyleCount="156">
</w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]--><style type="text/css">
<!--
 /* Font Definitions */
 @font-face
{font-family:"Angsana New";
panose-1:2 2 6 3 5 4 5 2 3 4;
mso-font-charset:0;
mso-generic-font-family:roman;
mso-font-pitch:variable;
mso-font-signature:16777219 0 0 0 65537 0;}
@font-face
{font-family:Verdana;
panose-1:2 11 6 4 3 5 4 4 2 4;
mso-font-charset:0;
mso-generic-font-family:swiss;
mso-font-pitch:variable;
mso-font-signature:536871559 0 0 0 415 0;}
@font-face
{font-family:Garamond;
panose-1:2 2 4 4 3 3 1 1 8 3;
mso-font-charset:0;
mso-generic-font-family:roman;
mso-font-pitch:variable;
mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
{mso-style-parent:"";
margin:0cm;
margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-size:12.0pt;
mso-bidi-font-size:14.0pt;
font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Angsana New";}
@page Section1
{size:595.3pt 841.9pt;
margin:72.0pt 90.0pt 72.0pt 90.0pt;
mso-header-margin:35.4pt;
mso-footer-margin:35.4pt;
mso-paper-source:0;}
div.Section1
{page:Section1;}
-->
</style><!--[if gte mso 10]>
<style>
/* Style Definitions */
table.MsoNormalTable
{mso-style-name:"Table Normal";
mso-tstyle-rowband-size:0;
mso-tstyle-colband-size:0;
mso-style-noshow:yes;
mso-style-parent:"";
mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
mso-para-margin:0cm;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-size:10.0pt;
font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;}
</style>
<![endif]-->
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">In 1964 a catastrophic flood struck the city of <st1:city w:st="on"><st1:place w:st="on">Zagreb</st1:place></st1:city>. Many buildings were completely destroyed when the water struck their walls. In this task, you are given a simplified model of the city before the flood and you should determine which of the walls are left intact after the flood.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">The model consists of N points in the coordinate plane and W walls. Each wall connects a pair of points and does not go through any other points. The model has the following additional properties:<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Symbol;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 14pt;">- </span><span style="font-size: 14pt; font-family: Garamond;">No two walls intersect or overlap, but they may touch at endpoints;<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Symbol;"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 14pt;">-</span><span style="font-size: 14pt; font-family: Symbol;"> </span><span style="font-size: 14pt; font-family: Garamond;">Each wall is parallel to either the horizontal or the vertical coordinate axis.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">Initially, the entire coordinate plane is dry. At time zero, water instantly floods the exterior (the space not bounded by walls). After exactly one hour, every wall with water on one side and air on the other breaks under the pressure of water. Water then floods the new area not bounded by any standing walls. Now, there may be new walls having water on one side and air on the other. After another hour, these walls also break down and water floods further. This procedure repeats until water has flooded the entire area.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">An example of the process is shown in the following figure.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Verdana;"><o:p>&nbsp;<br />
</o:p></span></p>
<p class="MsoNormal" style="text-align: center;"><input width="800" type="image" height="306" src="http://www.programming.in.th/task/img/2014/2014-1.gif" longdesc="undefined" /><span style="font-size: 14pt; font-family: Verdana;"><o:p> </o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Verdana;">TASK<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">Write a program that, given the coordinates of the N points, and the descriptions of W walls connecting these points, determines which of the walls are left standing after the flood.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Verdana;">INPUT<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">The first line of input contains an integer N (2 &le; N &le; 100 000), the number of points in the plane.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">Each of the following N lines contains two integers X and Y (both between 0 and 1 000 000, inclusive), the coordinates of one point. The points are numbered 1 to N in the order in which they are given. No two points will be located at the same coordinates.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">The following line contains an integer W (1 &le; W &le; 2N), the number of walls.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">Each of the following W lines contains two different integers A and B (1 &le; A &le; N, 1 &le; B &le; N), meaning that, before the flood, there was a wall connecting points A and B. The walls are numbered 1 to W in the order in which they are given.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Verdana;">OUTPUT<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">The first line of output should contain a single integer K, the number of walls left standing after the flood.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">The following K lines should contain the indices of the walls that are still standing, one wall per line. The indices may be output in any order.<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Verdana;">GRADING<o:p></o:p></span></p>
<p class="MsoNormal" style=""><span style="font-size: 14pt; font-family: Garamond;">In test cases worth a total of 40 points, all coordinates will be at most 500.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size: 14pt; font-family: Garamond;">In those same cases, and cases worth another 15 points, the number of points will be at most 500.<br />
<br />
<u><strong>Reference:</strong></u><strong> 19th International Olympiad in Informatics; Zagreb, Croatia (Day 1)</strong><br />
</span><span style="font-size: 14pt;"><o:p></o:p></span></p>
</meta>
</meta>
</meta>
</meta>
		<table>
			<tr>
				<th>ข้อมูลนำเข้า</th>
				<th>ข้อมูลส่งออก</th>
			</tr>	
		
			<tr>
				<td>15<br />1 1<br />8 1<br />4 2<br />7 2<br />2 3<br />4 3<br />6 3<br />2 5<br />4 5<br />6 5<br />4 6<br />7 6<br />1 8<br />4 8<br />8 8<br />17<br />1 2<br />2 15<br />15 14<br />14 13<br />13 1<br />14 11<br />11 12<br />12 4<br />4 3<br />3 6<br />6 5<br />5 8<br />8 9<br />9 11<br />9 10<br />10 7<br />7 6<br /></td>
				<td>4<br />6<br />15<br />16<br />17</td>
			</tr></table>