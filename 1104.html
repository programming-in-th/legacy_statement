หลังจากที่สระว่ายน้ำของพวกเขาถูกระเบิดไป Mirko และ Slavko เริ่มต้นสะสมการ์ดแทน ในบริเวณใกล้เคียงกัน มีการสะสมการ์ดกันอย่างจริงเอาจังและมีกฏที่เข้มงวดในการซื้อขายแลกเปลี่ยนการ์ดกัน<br />
การซื้อขายการ์ดจะกระทำโดยเด็ก 2 คนเสมอ เด็กแต่ละคนจะจ่ายครึ่งหนึ่งของราคาการ์ดที่ตั้งไว้และการ์ดสองใบจะถูกซื้อ จากนั้น พวกเขาจะวิ่งแข่งกันไปที่น้ำพุในตัวเมือง คนชนะจะได้การ์ดทั้งสองใบนั้น แต่ถ้าพวกเขาวิ่งมาถึงในเวลาเดียวกัน พวกเขาจะได้การ์ดคนละ 1 ใบ<br />
กฏนี้ดำเนินไปได้ด้วยดีในตอนแรก แต่ก็เกิดข้อกล่าวหาขึ้นในเร็ว ๆ นี้เมื่อเด็กบางคนไม่สามารถครอบครองการ์ดของพวกเขาโดยผ่านการซื้อขายแบบนี้ได้<br />
วันหนึ่ง เด็กทุกคนมาประชุมร่วมกันเพื่อหาทางออกเมื่อมีการปฏิบัติที่ไม่เป็นไปตามระเบียบปกติเกิดขึ้น พวกเขาต้องจัดการกับจำนวนที่แท้จริงของการ์ดที่แต่ละคนมีอยู่ในปัจจุบันให้เห็นพ้องต้องกัน นอกจากนี้ พวกเขายังทำใบรายชื่อซึ่งไม่สมบูรณ์ขึ้น ว่าคนไหนไปที่ร้านกับคนไหนบ้าง แต่พวกเขาจะไม่รู้ว่าคนไหนที่ชนะการแข่งขันและได้การ์ดจากการแข่งขันนั้นไป<br />
<br />
<strong><u>งานของคุณ</u></strong><br />
<br />
จงเขียนโปรแกรมเพื่อพิจารณาหาคนที่มีส่วนร่วมในการซื้อขายทั้งหมดที่เกิดขึ้นและใครที่เป็นฝ่ายชนะการแข่งขันในแต่ละครั้งย่อย ๆ เพื่อที่ว่าหลังจากการซื้อขายทั้งหมด จำนวนการ์ดที่นับได้ทั้งหมดจะต้องสอดคล้องกับจำนวนการ์ดทั้งหมดที่รับเข้ามา<br />
ให้สมมติว่า ก่อนการซื้อขายครั้งใด ๆ ก็ตาม ไม่มีเด็กคนไหนที่มีการ์ดเลย<br />
ถ้ามีวิธีแก้ปัญหาที่เป็นไปได้หลายวิธี ให้แสดงผลวิธีเหล่านั้นออกมา<br />
<br />
<strong><u>ข้อมูลนำเข้า</u></strong><br />
<br />
ในบรรทัดแรก ประกอบด้วยเลขจำนวนเต็มของจำนวนเด็ก (N) และจำนวนครั้งของการซื้อขายที่เด็ก ๆ นึกได้ (M) ซึ่งมีค่าดังนี้ 1 &le; N &le; 100 และ 0 &le; M &le; 1000 โดยเด็ก ๆ จะต้องถูกติดชื่อจาก 1 ถึง N<br />
บรรทัดที่ 2 คือเลขจำนวนเต็มของจำนวนการ์ดที่เด็กแต่ละคนมีอยู่ในปัจจุบัน N ค่า<br />
แต่ละ M บรรทัดถัดมา คือเลขจำนวนเต็ม 2 ค่าที่บ่งบอกว่า เด็กคนไหนที่ทำการซื้อขายการ์ดกัน<br />
<br />
<strong><u>ข้อมูลส่งออก</u></strong><br />
<br />
บนบรรทัดแรก ให้แสดงผลจำนวนครั้งทั้งหมดของการซื้อขายการ์ด<br />
ในแต่ละบรรทัดถัดมา จะเป็นการอธิบายการซื้อขายการ์ดในแต่ละครั้ง ซึ่งการอธิบายนี้จะประกอบด้วยตัวเลข 3 ค่าคือ ตัวเลข 2 ค่าแรก หมายถึงเด็ก 2 คนที่ทำการซื้อขายการ์ดกัน และค่าสุดท้ายคือตัวเลข 0, 1 และ 2 ซึ่งก็คือจำนวนการ์ดที่เด็กคนแรกได้รับหลังจากการแข่งขันเสร็จสิ้น<br />
<strong>หมายเหตุ: </strong>จะต้องมีคำตอบของปัญหานี้เสมอ ถึงแม้ว่าไม่จำเป็นต้องเหมือนกันและจำนวนครั้งของการซื้อขายทั้งหมดสามารถมีค่ามากที่สุดที่ 1000<br />
<br />
<strong><u>ที่มา:</u></strong> COCI 2008/2009, Contest #6 &ndash; March 7, 2009<br />
<br />
<strong>ในตัวอย่างที่ 1</strong> มีเด็กแค่เพียง 2 คนจึงตั้งให้เป็นเด็กคนที่ 1 และเด็กคนที่ 2 และเด็กคนแรกจะลงท้ายด้วยการมีการ์ด 5 ใบ ส่วนเด็กคนที่ 2 จะลงท้ายด้วยการมีการ์ดใบเดียว<br />
หลังจากการซื้อขายครั้งแรก เด็กแต่ละคนจะได้การ์ดคนละใบ และหลังจากการซื้อขายครั้งที่สองและสาม เด็กคนแรกจะได้รับการ์ดทั้งสองใบในทั้ง 2 ครั้งของการซื้อขาย
		<table>
			<tr>
				<th>ข้อมูลนำเข้า</th>
				<th>ข้อมูลส่งออก</th>
			</tr>	
		
			<tr>
				<td>2 3
<br />5 1
<br />1 2
<br />1 2
<br />1 2</td>
				<td>3
<br />1 2 1
<br />1 2 2
<br />1 2 2</td>
			</tr>
			<tr>
				<td>4 3
<br />5 3 1 1
<br />1 3
<br />2 3
<br />4 1</td>
				<td>5
<br />1 3 1
<br />2 3 2
<br />4 1 0
<br />2 4 1
<br />1 3 2</td>
			</tr>
			<tr>
				<td>5 0
<br />3 0 2 4 1</td>
				<td>5
<br />1 2 2
<br />1 3 1
<br />4 2 2
<br />3 4 0
<br />3 5 1</td>
			</tr></table>
